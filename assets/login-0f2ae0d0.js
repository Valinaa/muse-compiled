import{d as v,aE as V,K as h,o as E,x as b,y as m,C as e,w as s,e as a,D as p,aF as _,ax as y,a3 as i,az as I,aA as B,E as C,aB as F,G as k,H as S,F as N}from"./index-cc1775bd.js";const q=n=>(k("data-v-e010003c"),n=n(),S(),n),A={class:"register-container"},D={class:"register-form"},H=q(()=>m("h2",null,"登录",-1)),U=v({__name:"login",setup(n){const{hasLogin:f}=V(),o=h({account:"",password:""}),g={account:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},w=()=>{y.post({url:"/login",data:{account:o.value.account,password:o.value.password}}).then(l=>{i.success("登录成功"),_.push("/index"),f(l.account)}).catch(l=>{i.error(`意外错误！${l}`)})};return(l,t)=>{const c=I,u=B,d=C,x=F;return E(),b("div",A,[m("div",D,[H,e(x,{model:a(o),rules:g,"label-width":"80px"},{default:s(()=>[e(u,{label:"用户名",prop:"account"},{default:s(()=>[e(c,{modelValue:a(o).account,"onUpdate:modelValue":t[0]||(t[0]=r=>a(o).account=r)},null,8,["modelValue"])]),_:1}),e(u,{label:"密码",prop:"password"},{default:s(()=>[e(c,{modelValue:a(o).password,"onUpdate:modelValue":t[1]||(t[1]=r=>a(o).password=r),type:"password"},null,8,["modelValue"])]),_:1}),e(u,null,{default:s(()=>[e(d,{type:"primary",onClick:w},{default:s(()=>[p(" 登录 ")]),_:1}),e(d,{type:"warning",onClick:t[2]||(t[2]=r=>a(_).push("/register"))},{default:s(()=>[p(" 点我去注册！ ")]),_:1})]),_:1})]),_:1},8,["model"])])])}}});const z=N(U,[["__scopeId","data-v-e010003c"]]);export{z as default};
